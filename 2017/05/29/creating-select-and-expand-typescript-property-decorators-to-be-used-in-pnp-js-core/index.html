<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width"><title>Part 2. Creating select and expand TypeScript Property Decorators to be used in PnP JS Core | José Quinto</title><meta name="description" content="Part 2. Creating select and expand TypeScript Property Decorators to be used in PnP JS Core"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"><meta property="og:image" content="https://blog.josequinto.com/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/featured.png"><meta name="twitter:image" content="https://blog.josequinto.com/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/featured.png"><meta property="fb:app_id" content="155567495101835"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://blog.josequinto.com/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/" property="og:url"><meta name="twitter:title" content="Part 2. Creating select and expand TypeScript Property Decorators to be used in PnP JS Core | José Quinto" property="og:title"><meta name="twitter:site" content="@jquintozamora"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.josequinto.com/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/"><meta property="og:title" content="Part 2. Creating select and expand TypeScript Property Decorators to be used in PnP JS Core | José Quinto"><link rel="canonical" href="https://blog.josequinto.com/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/"><link rel="author" href="https://plus.google.com/u/0/108403117712061507579"><link rel="alternate" type="application/rss+xml" title="Jose Quinto" href="https://blog.josequinto.com/feed.rss"><meta name="theme-color" content="#ffffff"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.1"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3/dist/instantsearch.min.js" defer></script><script>var GLOBAL = { 
  root: '/',
  algolia: {"appId":"C7MOFESP3V","apiKey":"cdc4a9b7af864c710f2d3da5caf59eec","indexName":"dev_JQBLOG","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><div id="bodyWrapper"><div id="content-outer"><div id="top-container" style="background-image: url(/background.svg)"><div id="page-header"><span class="pull-left"> <a class="brand" href="/"><img class="brand-image" src="/jose-quinto.png"><div class="brand-name">José Quinto</div></a></span><i class="fa fa-share toggle-social" aria-hidden="true"></i><div class="socialicons" id="header-social-icons"><a class="social-icon" href="https://twitter.com/jquintozamora" target="_blank" rel="noopener"><i class="fa fa-twitter"></i></a><a class="social-icon" href="https://github.com/jquintozamora" target="_blank" rel="noopener"><i class="fa fa-github"></i></a><a class="social-icon" href="https://codepen.io/jquintozamora" target="_blank" rel="noopener"><i class="fa fa-codepen"></i></a><a class="social-icon" href="https://www.linkedin.com/in/jquintozamora" target="_blank" rel="noopener"><i class="fa fa-linkedin"></i></a><a class="social-icon" href="https://stackoverflow.com/users/5015774/jos%C3%A9-quinto-zamora?tab=profile" target="_blank" rel="noopener"><i class="fa fa-stack-overflow"></i></a><a class="social-icon" href="https://blog.josequinto.com/feed.rss" target="_blank" rel="noopener"><i class="fa fa-rss"></i></a></div><a class="social-icon search"><i class="fa fa-search"></i></a><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Search posts:</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/about.html">About</a></span></div><div id="post-info"><div id="post-title">Part 2. Creating select and expand TypeScript Property Decorators to be used in PnP JS Core</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-05-29</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/taxonomy/Series/">Series</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/taxonomy/Series/PnPJsCore/">PnPJsCore</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/"></span></a></div></div></div><div class="layout" id="content-inner"><section class="articlePostContainer"><nav class="sidebar-toc"><div class="sidebar-toc__title">Contents</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Post-Series-Index"><span class="toc-number">1.</span> <span class="toc-text">Post Series Index</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">2.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What-are-TypeScript-Property-Decorators"><span class="toc-number">3.</span> <span class="toc-text">What are TypeScript Property Decorators?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-could-Decorators-help-to-Custom-Business-Objects-in-PnP-JS-Core"><span class="toc-number">4.</span> <span class="toc-text">How could Decorators help to Custom Business Objects in PnP JS Core</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Property-Decorators’-implementation-for-select-and-expand-in-PnP-JS-Core"><span class="toc-number">5.</span> <span class="toc-text">Property Decorators’ implementation for select and expand in PnP JS Core</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Important-Notes"><span class="toc-number">6.</span> <span class="toc-text">Important Notes</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#How-the-metadata-is-stored-using-decorators"><span class="toc-number">6.1.</span> <span class="toc-text">How the metadata is stored using decorators?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#When-is-decorator-code-executed"><span class="toc-number">6.2.</span> <span class="toc-text">When is decorator code executed?</span></a></li></ol></li></ol></div></nav><section class="postArticle"><article id="post"><div class="post-featuredImage"><img src="featured.png" width="auto" height="auto"></div><div id="post-content"><h2 id="Post-Series-Index"><a href="#Post-Series-Index" class="headerlink" title="Post Series Index"></a>Post Series Index</h2><p>This is a blog post in the series about working with <strong>Custom Business Objects</strong>, <strong>Parsers</strong> and <strong>Decorators</strong> in <a href="https://github.com/SharePoint/PnP-JS-Core" target="_blank" rel="noopener">PnP JS Core</a>:</p>
<ol>
<li><a href="/2017/05/19/why-do-we-should-use-custom-business-objects-models-in-pnp-js-core#Post-Series-Index">Introduction to Why do we should use Custom Business Objects (Models) in PnP JS Core</a> </li>
<li><strong>Creating select and expand TypeScript Property Decorators to be used in PnP JS Core (this article)</strong></li>
<li><a href="/2017/06/15/creating-mydocument-and-mydocumentcollection-models-extending-item-and-items-pnp-js-core-classes#Post-Series-Index">Creating MyDocument and MyDocumentCollection models extending Item and Items PnP JS Core classes</a></li>
<li><a href="/2017/06/28/how-to-consume-our-decorators-models-and-parsers-from-spfx-the-winning-combination#Post-Series-Index">How to consume our decorators, models and parsers from SPFx, the winning combination</a></li>
<li><a href="/2017/06/28/how-to-consume-our-decorators-models-and-parsers-from-spfx-the-winning-combination#Post-Series-Index">How to consume our decorators, models and parsers from SPFx, the winning combination</a></li>
<li><a href="https://github.com/jquintozamora/spfx-react-sp-pnp-js-property-decorators" target="_blank" rel="noopener">Github project!</a> <strong>Please remember to “star” if you liked it!</strong></li>
</ol>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In the previous post of this series we explained why we should use <strong>Custom Business Objects in PnP JS Core</strong> and at the end of the article we summarized some improvements to work with Business Objects in a more generic and usable way. In order to achieve it, we propose the usage of TypeScript Decorators in combination with Custom Business Objects and Custom Generic Parsers. In this article, we are going to see what are <strong>TypeScript property decorators</strong> and how to implement them for this specific scenario.</p>
<h2 id="What-are-TypeScript-Property-Decorators"><a href="#What-are-TypeScript-Property-Decorators" class="headerlink" title="What are TypeScript Property Decorators?"></a>What are TypeScript Property Decorators?</h2><p>Generally speaking, <strong>decorators</strong> are special bindings to easily <strong>provide extra functionality</strong> for classes, methods, accessors, properties and parameters.</p>
<p><a href="http://ecma-international.org/memento/TC39.htm" target="_blank" rel="noopener">TC39</a> members are working on the definition of a <a href="https://tc39.github.io/proposal-decorators/" target="_blank" rel="noopener">standard for ECMAScript Decorators</a> due to the success of <strong>TypeScript experimental decorators’</strong> <strong>implementation</strong> and to the <strong>good </strong>acceptance <em>**</em>of them on <a href="https://angular.io/" target="_blank" rel="noopener">Angular</a>, <a href="http://aurelia.io/" target="_blank" rel="noopener">Aurelia</a> and <a href="https://www.emberjs.com/" target="_blank" rel="noopener">Ember</a> frameworks.</p>
<blockquote>
<p>In <strong>Typescript</strong>, A Decorator is a special kind of declaration that can be attached to a <a href="https://www.typescriptlang.org/docs/handbook/decorators.html#class-decorators" target="_blank" rel="noopener">class declaration</a>, <a href="https://www.typescriptlang.org/docs/handbook/decorators.html#method-decorators" target="_blank" rel="noopener">method</a>, <a href="https://www.typescriptlang.org/docs/handbook/decorators.html#accessor-decorators" target="_blank" rel="noopener">accessor</a>, <a href="https://www.typescriptlang.org/docs/handbook/decorators.html#property-decorators" target="_blank" rel="noopener">property</a>, or <a href="https://www.typescriptlang.org/docs/handbook/decorators.html#parameter-decorators" target="_blank" rel="noopener">parameter</a>.</p>
</blockquote>
<p>There are the <a href="https://github.com/Microsoft/TypeScript/blob/v2.3.3/src/lib/es5.d.ts#L1296-L1299" target="_blank" rel="noopener">four different decorator declarations available</a> (by May 2017 - TypeScript 2.3.3):</p>
<script src="https://gist.github.com/jquintozamora/7ee4cc7047122448cc06abadc3a7493f.js"></script>

<p>In this post, we will only use “<a href="https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Decorators.md#property-decorators" target="_blank" rel="noopener">property decorators</a>“.</p>
<p>For example, see how the class <strong>MyDocument</strong> could have a select decorator to query <strong>FileRefLeaf</strong> field and do the mapping with <strong>Name</strong> property in our class:</p>
<script src="https://gist.github.com/jquintozamora/20d715203186a3e9463ba76ca270142d.js"></script>

<h2 id="How-could-Decorators-help-to-Custom-Business-Objects-in-PnP-JS-Core"><a href="#How-could-Decorators-help-to-Custom-Business-Objects-in-PnP-JS-Core" class="headerlink" title="How could Decorators help to Custom Business Objects in PnP JS Core"></a>How could Decorators help to Custom Business Objects in PnP JS Core</h2><p>As we described in <a href="/2017/05/19/why-do-we-should-use-custom-business-objects-models-in-pnp-js-core/">the previous post of this series</a>, we can define a <strong>Custom Business Object with this code</strong>:</p>
<script src="https://gist.github.com/jquintozamora/43d61763771078d72a81890a63605ebc.js"></script>

<p>You can see in the code how we create and maintain 4 different properties in the class definition, and <strong>separately</strong>, we <strong>also maintain an array of names for every property</strong> we want to query against the <strong>server using SP Rest API with select parameter</strong>.</p>
<p>The idea of decorators in this scenario is achieve something like:</p>
<script src="https://gist.github.com/jquintozamora/dce0f50d7cce5870ed90e2c0172629c0.js"></script>



<h2 id="Property-Decorators’-implementation-for-select-and-expand-in-PnP-JS-Core"><a href="#Property-Decorators’-implementation-for-select-and-expand-in-PnP-JS-Core" class="headerlink" title="Property Decorators’ implementation for select and expand in PnP JS Core"></a>Property Decorators’ implementation for select and expand in PnP JS Core</h2><p>Once we have more context about what is a decorator intended for, let´s see <strong>how to implement property decorators and property </strong><a href="https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Decorators.md#decorator-factories" target="_blank" rel="noopener"><strong>decorator factory</strong></a><strong>.</strong> Basically, a decorator factory is a function that returns a function of type <a href="https://github.com/Microsoft/TypeScript/blob/v2.3.3/src/lib/es5.d.ts#L1297" target="_blank" rel="noopener">PropertyDecorator</a>.</p>
<p>Have a look into the <a href="https://github.com/Microsoft/TypeScript/blob/v2.3.3/src/lib/es5.d.ts#L1296-L1299" target="_blank" rel="noopener">TypeScript type definitions for decorators</a> and note how all of them are different, for example, <strong>PropertyDecorator</strong> type have two parameters target (the class or instance in which the property is) and propertyKey (the name of the property). Also note how <strong>PropertyDecorator</strong> in a way contrary to <strong>MethodDecorator</strong> returns nothing, which means that in order to <strong>add extra functionality</strong> <strong>we can´t return a modified property</strong> as a result of the decorator function, <strong>we should modify the target object itself instead</strong>.</p>
<p>Now, we are going to describe how to<strong> implement two decorators for select and expand functionalities</strong>. The idea of these decorator is to make an <strong>annotation</strong> on the class and store in the target object <strong>two lists</strong> of the properties <strong>tagged with @select and @expand </strong>in order to be used later at query time.</p>
<script src="https://gist.github.com/jquintozamora/9677a70d9698778399c5697ed1c7e2ae.js"></script>

<h2 id="Important-Notes"><a href="#Important-Notes" class="headerlink" title="Important Notes"></a>Important Notes</h2><ul>
<li><p><strong>@select</strong> decorator implementation has <strong>queryName as optional,</strong> so if there isn´t queryName, we are getting the<strong> property name itself</strong> to be used in the query.</p>
</li>
<li><p><strong>Decorator factories</strong> are used because we need to provide <strong>custom queryName</strong> for the query if needed. </p>
</li>
<li><p>We <strong>extract</strong> the functionality <strong>setMetadata</strong> as a separate function as it will be used on <strong>both decorators</strong>.</p>
</li>
<li><p>I <strong>considered</strong> to use <a href="https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Decorators.md#metadata" target="_blank" rel="noopener">reflect-metadata API</a> to set metadata, but <strong>isn’t needed on this scenario</strong> as we are storing the metadata in the actual object (target) and <strong>we</strong> <strong>don´t need extra overload</strong>.</p>
</li>
</ul>
<p>If you´d like see the <strong>real implementation of decorators</strong>: <a href="https://github.com/jquintozamora/spfx-react-sp-pnp-js-property-decorators/blob/master/src/webparts/customBusinessObjectsPnPJs/utils/decorators.ts" target="_blank" rel="noopener">take a look to this file which have all the decorators implements for PnP JS Core example.</a></p>
<p>Let´s see now how this implementation is working on a real <strong>SPFx webpart</strong> and what is its runtime behavior:</p>
<script src="https://gist.github.com/jquintozamora/e06157d6800885f15e7ddabcecaddc2b.js"></script>

<p>In the code we have a PnP JS Core Custom Object which inherits from <strong>Item</strong> and because of that is provided with some already implemented methods <strong>get(), getAs<type>(), constructor</type></strong>, and so on, that <strong>we can override</strong> to change some behavior (we will see in the next post how to override get() method to actually use the provided decorators.</p>
<p>Apart from that, our custom class also defines two properties called <strong>Title</strong> and <strong>Name</strong> and they both are using <strong>@select decorator</strong> to set this property as <strong>queriable</strong> via “select” parameter of the REST API. The first one will use “<strong><em>Title</em></strong>” in the query, and the second one will use “<strong><em>FileLeafRef</em></strong>”, which means a query like that:</p>
<p><strong>/_api/web/lists/getByTitle(‘PnPJSSample’)/items(1)?$select=Title,FileLeafRef</strong></p>
<h3 id="How-the-metadata-is-stored-using-decorators"><a href="#How-the-metadata-is-stored-using-decorators" class="headerlink" title="How the metadata is stored using decorators?"></a>How the metadata is stored using decorators?</h3><p>Let´s see this example at runtime:</p>
<p><strong>Property 1: Title</strong></p>
<p><a href="./clip_image002-1.png"><img src="./clip_image002-1.png" alt="clip_image002" title="clip_image002"></a></p>
<p><strong>Property 2: FileLeafRef:</strong></p>
<p><a href="./clip_image003-1.png"><img src="./clip_image003-1.png" alt="clip_image003" title="clip_image003"></a></p>
<p>We can see how we use the target object to store the information using <strong><strong>select</strong></strong> property. Ideally we should use <strong>ES Symbol</strong> when they have more browser support.</p>
<h3 id="When-is-decorator-code-executed"><a href="#When-is-decorator-code-executed" class="headerlink" title="When is decorator code executed?"></a>When is decorator code executed?</h3><p>Code for property decorators is executed <strong>when JavaScript engine read (import) our custom class</strong>, <strong>just at the beginning</strong>.</p>
<p>Imagine we define our custom class <strong>MyDocument</strong> as external module and we import this module from our webpart component .tsx file. Then, the code is executed just in the import evaluation, as we can see in the following picture:</p>
<p><a href="./clip_image004-1.png"><img src="./clip_image004-1.png" alt="clip_image004" title="clip_image004"></a></p>
<table>
<thead>
<tr>
<th>#</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong> Import</strong> our Custom Object class from our tsx component.</td>
</tr>
<tr>
<td>2 and 3</td>
<td><strong>When JavaScript</strong> engine <strong>evaluate the import</strong> is when it will <strong>evaluate and execute all decorator functions</strong></td>
</tr>
<tr>
<td>4</td>
<td><strong>After</strong> evaluating all <strong>decorator functions</strong>, the array of selected properties is already generated and stored on <strong>MyDocument</strong>, then it returns to the execution of out component, just <strong>after the import</strong> instruction.</td>
</tr>
<tr>
<td>5</td>
<td><strong>In the get method of our PnP JS</strong> Core Custom Object we already have our selectors evaluated and we have the information we need stored in MyDocument object as own property</td>
</tr>
</tbody>
</table>
</div><div id="post-content-bottom-space"><p>&nbsp;</p></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://twitter.com/jquintozamora" target="_blank">José Quinto</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://blog.josequinto.com/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/">https://blog.josequinto.com/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/category/PnP/">PnP</a><a class="post-meta__tags" href="/category/TypeScript/">TypeScript</a><a class="post-meta__tags" href="/category/PnP-JS-Core/">PnP JS Core</a><a class="post-meta__tags" href="/category/decorator/">decorator</a></div></article><nav id="pagination"><div class="prev-post pull-left"><a href="/2017/06/15/creating-mydocument-and-mydocumentcollection-models-extending-item-and-items-pnp-js-core-classes/" title="previous page"><i class="fa fa-chevron-left" aria-hidden="true"></i><span>Part 3. Creating MyDocument and MyDocumentCollection models extending Item and Items PnP JS Core classes</span></a></div><div class="next-post pull-right"><a href="/2017/05/19/why-do-we-should-use-custom-business-objects-models-in-pnp-js-core/" title="next page"><span>Part 1. Why Should we use Custom Business Objects (Models) in PnP JS Core</span><i class="fa fa-chevron-right" aria-hidden="true"></i></a></div></nav><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = 'https://blog.josequinto.com/2017/05/29/creating-select-and-expand-typescript-property-decorators-to-be-used-in-pnp-js-core/';
  this.page.identifier = '981';
  this.page.title = 'Part 2. Creating select and expand TypeScript Property Decorators to be used in PnP JS Core';
}
var d = document, s = d.createElement('script');
s.src = "https://https-blog-josequinto-com.disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script><script id="dsq-count-src" src="//https-blog-josequinto-com.disqus.com/count.js" async></script></section></section></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2022 By José Quinto</div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i></div><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.1"></script><script src="/js/fancybox.js?version=1.5.1"></script><script src="/js/copy.js?version=1.5.1"></script><script src="/js/scroll.js?version=1.5.1"></script><script src="/js/head.js?version=1.5.1"></script><script src="/js/search/algolia.js"></script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-44570510-1', 'auto');
ga('send', 'pageview');</script><script async src="https://www.google-analytics.com/analytics.js"></script><link rel="manifest" href="/manifest.json"><script async src="/js/registerServiceWorker.js"></script></body></html>