<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width"><title>Creating a Development Pipeline for Alexa Skill on a multideveloper environment | José Quinto</title><meta name="description" content="Creating a Development Pipeline for Alexa Skill on a multideveloper environment"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"><meta property="og:image" content="https://blog.josequinto.com/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/featured.jpg"><meta name="twitter:image" content="https://blog.josequinto.com/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/featured.jpg"><meta property="fb:app_id" content="155567495101835"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://blog.josequinto.com/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/" property="og:url"><meta name="twitter:title" content="Creating a Development Pipeline for Alexa Skill on a multideveloper environment | José Quinto" property="og:title"><meta name="twitter:site" content="@jquintozamora"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.josequinto.com/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/"><meta property="og:title" content="Creating a Development Pipeline for Alexa Skill on a multideveloper environment | José Quinto"><link rel="canonical" href="https://blog.josequinto.com/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/"><link rel="author" href="https://plus.google.com/u/0/108403117712061507579"><link rel="alternate" type="application/rss+xml" title="Jose Quinto" href="https://blog.josequinto.com/feed.rss"><meta name="theme-color" content="#ffffff"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.1"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3/dist/instantsearch.min.js" defer></script><script>var GLOBAL = { 
  root: '/',
  algolia: {"appId":"C7MOFESP3V","apiKey":"cdc4a9b7af864c710f2d3da5caf59eec","indexName":"dev_JQBLOG","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><div id="bodyWrapper"><div id="content-outer"><div id="top-container" style="background-image: url(/background.svg)"><div id="page-header"><span class="pull-left"> <a class="brand" href="/"><img class="brand-image" src="/jose-quinto.png"><div class="brand-name">José Quinto</div></a></span><i class="fa fa-share toggle-social" aria-hidden="true"></i><div class="socialicons" id="header-social-icons"><a class="social-icon" href="https://twitter.com/jquintozamora" target="_blank" rel="noopener"><i class="fa fa-twitter"></i></a><a class="social-icon" href="https://github.com/jquintozamora" target="_blank" rel="noopener"><i class="fa fa-github"></i></a><a class="social-icon" href="https://codepen.io/jquintozamora" target="_blank" rel="noopener"><i class="fa fa-codepen"></i></a><a class="social-icon" href="https://www.linkedin.com/in/jquintozamora" target="_blank" rel="noopener"><i class="fa fa-linkedin"></i></a><a class="social-icon" href="https://stackoverflow.com/users/5015774/jos%C3%A9-quinto-zamora?tab=profile" target="_blank" rel="noopener"><i class="fa fa-stack-overflow"></i></a><a class="social-icon" href="https://blog.josequinto.com/feed.rss" target="_blank" rel="noopener"><i class="fa fa-rss"></i></a></div><a class="social-icon search"><i class="fa fa-search"></i></a><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Search posts:</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/about.html">About</a></span></div><div id="post-info"><div id="post-title">Creating a Development Pipeline for Alexa Skill on a multideveloper environment</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-06-11</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/taxonomy/How-To/">How-To</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/"></span></a></div></div></div><div class="layout" id="content-inner"><section class="articlePostContainer"><nav class="sidebar-toc"><div class="sidebar-toc__title">Contents</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#First-Steps-Team-Requirements-and-Design"><span class="toc-number">2.</span> <span class="toc-text">First Steps (Team, Requirements and Design)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Development-Pipeline"><span class="toc-number">3.</span> <span class="toc-text">Development Pipeline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Multideveloper-Environment-Sync"><span class="toc-number">4.</span> <span class="toc-text">Multideveloper Environment Sync</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pull-changes-from-Github-and-push-them-into-Dev-Environment-Getting-the-Dev-environment-ready-with-the-latest-changes"><span class="toc-number">4.1.</span> <span class="toc-text">Pull changes from Github and push them into Dev Environment (Getting the Dev environment ready with the latest changes)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pull-changes-from-Dev-Environment-and-push-them-into-Github"><span class="toc-number">4.2.</span> <span class="toc-text">Pull changes from Dev Environment and push them into Github</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Testing"><span class="toc-number">5.</span> <span class="toc-text">Testing</span></a></li></ol></div></nav><section class="postArticle"><article id="post"><div class="post-featuredImage"><img src="featured.jpg" width="auto" height="auto"></div><div id="post-content"><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>There are <strong>several challenges</strong> in developing <code>Alexa Skills</code> in a <code>multideveloper environment</code> because the way in which is tested and deployed the skill itself. I’m proud for being part of a <em>team</em> which are going to start building an <code>Alexa Skill</code>. That’s exciting project that involves thinking in a different way at all levels, from thinking about Intents instead of functions or modules until configuring the development environment pipeline to keep on synch a <strong>multideveloper environment</strong>. ¡¡🚀💪 Challenge accepted 💪🚀!!  </p>
<h2 id="First-Steps-Team-Requirements-and-Design"><a href="#First-Steps-Team-Requirements-and-Design" class="headerlink" title="First Steps (Team, Requirements and Design)"></a>First Steps (Team, Requirements and Design)</h2><p>First of all, our current team consists on <code>Product Owner</code> 👨‍🚀, <code>Voice Apps UX</code> 👨‍🎨, <code>Voice Apps QA</code> 👨‍🔬, and <code>Developers</code>👨‍💻. I was never involved on the requirements gathering and design stages for a <strong>Voice App</strong>, but the experience so far is quite different given the fact people is going to use our skill using voice at home and normally in a relaxed environment with no devices on hands.   </p>
<h2 id="Development-Pipeline"><a href="#Development-Pipeline" class="headerlink" title="Development Pipeline"></a>Development Pipeline</h2><p>One of the ⚡️ <strong>main challenges</strong> ⚡️ in Alexa Skill’s <strong>multideveloper environment</strong> is to <strong>keep in synch all the development environments without override others changes</strong>. The reason why that is quite difficult is because, nowadays, is not possible to develop / test our skill’s intents locally. So we need to sign in into <code>Alexa Skill Kit Developer Account</code> in order to be able to see and test our <code>intents</code> and <code>interaction models</code>. Then, as a developer I do need to make changes and / or deploy changes for interaction model on <em>Alexa Cloud</em> and use <em>our local environment</em> to develop the intent’s code. </p>
<p>In a nutshell, our Alexa Skill will need to <strong>store files in two places</strong> to be ready for test and try: </p>
<ul>
<li><code>Skill Metadata file</code> and <code>Interaction Model Definition file</code> are going to be published into one <code>Alexa Skill Kit Developer Console</code> account (Amazon’s Cloud).</li>
<li><code>Lambda Function Code</code> is going to be published in <code>Amazon Web Services&#39; Lambda function</code></li>
</ul>
<p>There is no problem on having to deploy each part of the Alexa Skill on different cloud places, as we can see on that <a href="/2018/04/23/building-voice-app-custom-alexa-skill-node-js/">post</a>, we can use some <code>cli</code> tools to help with the automatization of it. But the <strong>problem</strong> is that <strong>each developer needs to have the model and code deployed in order to test it</strong> and <strong>we don’t want override each other continuously</strong>. </p>
<p>Then, after few brainstorming meetings we decided:</p>
<ul>
<li>Each developer is going to have one different Alexa Skill Kit Development Console account. And also, is going to create its own skill on it.</li>
<li>Each developer is going to have one different AWS account also linked with the Amazon Developer account.</li>
<li>For each developer we are going to create a lambda function with that name: <code>ask-&lt;skillType&gt;-&lt;skillName&gt;-&lt;profile&gt;</code>, where profile is the name of the profile created for that user.</li>
<li>There will be an Amazon Developer account for Staging (profile =&gt; STG) </li>
<li>There will be an AWS Lambda Function for Staging (profile =&gt; STG).</li>
<li>There will be an Amazon Developer account for PROD (profile =&gt; PROD). The production Amazon Developer account will be the only one that eventually is going to Deploy and Publish the Skill to Amazon SKill’s Store.</li>
<li>There will be an AWS Lambda Function for Production (profile =&gt; PROD).</li>
<li>We are going to use Github as a Control Version System and single source for the truth.</li>
</ul>
<h2 id="Multideveloper-Environment-Sync"><a href="#Multideveloper-Environment-Sync" class="headerlink" title="Multideveloper Environment Sync"></a>Multideveloper Environment Sync</h2><p>In order to be able to sync Alexa Skill environment we have to build some scripts to push changes to cloud from local and the other way around.</p>
<h3 id="Pull-changes-from-Github-and-push-them-into-Dev-Environment-Getting-the-Dev-environment-ready-with-the-latest-changes"><a href="#Pull-changes-from-Github-and-push-them-into-Dev-Environment-Getting-the-Dev-environment-ready-with-the-latest-changes" class="headerlink" title="Pull changes from Github and push them into Dev Environment (Getting the Dev environment ready with the latest changes)"></a>Pull changes from Github and push them into Dev Environment (Getting the Dev environment ready with the latest changes)</h3><p>☑️ 1. Dev will <code>pull</code> from github for latest changes</p>
<p>☑️ 2. Script to backup Interaction Model before pushing the new one</p>
<p>☑️ 3. Dev will <code>deploy</code> changes related with <code>Interaction Model and Skill Metadata</code> using <code>ask cli</code> tool</p>
<p>☑️ 4. Script to backup the Lambda function code before pushing the new one</p>
<p>☑️ 5. Dev will <code>deploy</code> changes related with <code>Lambda Function Code</code> to <code>AWS</code> using <code>aws cli</code> tool</p>
<p><img src="./localToCloud.png" alt="push to cloud"></p>
<h3 id="Pull-changes-from-Dev-Environment-and-push-them-into-Github"><a href="#Pull-changes-from-Dev-Environment-and-push-them-into-Github" class="headerlink" title="Pull changes from Dev Environment and push them into Github"></a>Pull changes from Dev Environment and push them into Github</h3><p>☑️ 1. Script to backup our local Interaction Model before overriding it</p>
<p>☑️ 2. Dev will <code>get the model and skill metadata</code> from <code>Alexa Developer Console</code> using <code>ask cli</code> tool</p>
<p>☑️ 3. Script to backup our local Lambda Function Code before overriding it</p>
<p>☑️ 4. Dev will <code>get lambda function code</code> from <code>AWS</code> using <code>ask cli</code> tool</p>
<p>☑️ 4.1. Dev will implement some <code>changes</code> (optional)</p>
<p>☑️ 5. Dev will <code>push</code> into Github using a <code>feature branch</code></p>
<p><img src="./CloudToLocal.png" alt="pull from cloud"></p>
<h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><p>In terms of testing we will create a hook up to <code>git commit</code> in order to run linter and test before pushing changes and also we will integrate with Circle CI and Github. </p>
<ul>
<li><code>Unit Tests</code> will be created at Intent level.</li>
<li><code>Integration Tests</code> will be created if there are some external services and / or databases for the skill.</li>
<li>Multiple <code>Flow Tests</code> will be created for each Intent.</li>
</ul>
<p>Happy Voice App Coding 🎤🎤🎤!
<br></p>
</div><div id="post-content-bottom-space"><p>&nbsp;</p></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://twitter.com/jquintozamora" target="_blank">José Quinto</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://blog.josequinto.com/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/">https://blog.josequinto.com/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/category/Voice-App/">Voice App</a><a class="post-meta__tags" href="/category/Alexa-Skill/">Alexa Skill</a><a class="post-meta__tags" href="/category/Environment/">Environment</a><a class="post-meta__tags" href="/category/Development-Pipeline/">Development Pipeline</a></div></article><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/06/14/configuring-linter-git-hooks-improve-development-workflow/" title="previous page"><i class="fa fa-chevron-left" aria-hidden="true"></i><span>Configuring linter, git hooks and auto-format to improve our development workflow</span></a></div><div class="next-post pull-right"><a href="/2018/04/25/deploy-alexa-skill-using-already-created-lambda-function-and-role/" title="next page"><span>Deploying Alexa Skill using an already created lambda function and role</span><i class="fa fa-chevron-right" aria-hidden="true"></i></a></div></nav><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = 'https://blog.josequinto.com/2018/06/11/development-pipeline-alexa-skill-multideveloper-environment/';
  this.page.identifier = '906';
  this.page.title = 'Creating a Development Pipeline for Alexa Skill on a multideveloper environment';
}
var d = document, s = d.createElement('script');
s.src = "https://https-blog-josequinto-com.disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script><script id="dsq-count-src" src="//https-blog-josequinto-com.disqus.com/count.js" async></script></section></section></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2022 By José Quinto</div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i></div><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.1"></script><script src="/js/fancybox.js?version=1.5.1"></script><script src="/js/copy.js?version=1.5.1"></script><script src="/js/scroll.js?version=1.5.1"></script><script src="/js/head.js?version=1.5.1"></script><script src="/js/search/algolia.js"></script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-44570510-1', 'auto');
ga('send', 'pageview');</script><script async src="https://www.google-analytics.com/analytics.js"></script><link rel="manifest" href="/manifest.json"><script async src="/js/registerServiceWorker.js"></script></body></html>